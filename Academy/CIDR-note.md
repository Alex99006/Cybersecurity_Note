# 📘 CIDR 讲解笔记（基础版）

---

## 🧠 什么是 CIDR？

**CIDR** 全称为 **Classless Inter-Domain Routing**（无类域间路由），是用来表达子网掩码的一种方式。  
它用斜杠后面接一个数字的形式来表示网络位数。

例如：  192.168.1.0/24

这个 `/24` 表示：前 24 位是网络位，剩下的 8 位是主机位。

---

## 🧮 CIDR 与子网掩码的关系

子网掩码是用来划分 **网络位/主机位** 的。常见的换算如下：

| CIDR | 子网掩码        | 主机数（可用） |
| ---- | --------------- | -------------- |
| /24  | 255.255.255.0   | 254            |
| /25  | 255.255.255.128 | 126            |
| /26  | 255.255.255.192 | 62             |
| /27  | 255.255.255.224 | 30             |
| /28  | 255.255.255.240 | 14             |
| /29  | 255.255.255.248 | 6              |
| /30  | 255.255.255.252 | 2              |

> ✅ 可用主机数 = 2^(32 - CIDR位数) - 2  
> （减 2 是因为一个保留为网络地址，一个保留为广播地址）

---

## ❓ 为什么总是用 32 去减？

IPv4 地址总共有 32 位（4 个字节 × 8 位），CIDR 表示的是前面多少位是网络位。

所以：主机位数 = 32 - CIDR位数

例如：  
- /24 → 主机位 8 位 → 可用主机数 = 2^8 - 2 = 254  
- /30 → 主机位 2 位 → 可用主机数 = 2^2 - 2 = 2

---

## 🔁 如何把 CIDR 转成子网掩码？

### 步骤如下：

1. 把 CIDR 的位数转成 32 位二进制：
   - `/26` → 前 26 位是 1，后面 6 位是 0  
   - `11111111.11111111.11111111.11000000`

2. 每 8 位划分为一组，转成十进制：
   - `11111111` → 255  
   - `11000000` → 128 + 64 = 192

3. 得出最终子网掩码：
   - `/26` → `255.255.255.192`

---

## 🔁 如何把子网掩码转成 CIDR？

1. 将子网掩码转成二进制
   - 例如：`255.255.255.248`  
   - → `11111111.11111111.11111111.11111000`

2. 数一下有几个 1：
   - 有 29 个 1 → CIDR 就是 `/29`

---

## 📦 常见问题解答

### ❓ Q：为什么 CIDR 表达方式更灵活？

A：传统 A/B/C 类网络固定死了网络位数，比如：
- A 类：/8
- B 类：/16
- C 类：/24

CIDR 允许你**任意划分子网**，适用于现代网络设计。

---

### ❓ Q：CIDR 表示中哪些部分是网络？哪些是主机？

示例：192.168.10.0/26 → 网络位是前 26 位，主机位是最后 6 位

---

### ❓ Q：CIDR 是网络安全中常用的吗？

A：非常常用！尤其是在：
- 内网信息收集（识别子网范围）
- 网络扫描（设置扫描目标段）
- 横向渗透（区分哪些地址是同网段）

---

📅 整理时间：Day 13  
✍️ 作者：Alex99006   
